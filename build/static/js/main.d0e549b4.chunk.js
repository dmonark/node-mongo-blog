(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(306)},306:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),i=a.n(l),o=a(10),s=a(75),c=Object(s.a)(),u=a(40),h=a(126),m=a(68),d={LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",USER_UPDATE:"USERS_UPDTAE_SUCCESS",LOGOUT:"USERS_LOGOUT"},p={BLOG_GET:"BLOGS_GET_SUCCESS",BLOG_DELETE:"BLOG_DELETE_SUCCESS",BLOG_REMOVE:"BLOG_EVERY_REMOVE",ADD_BLOG:"BLOG_ONE_ADD"},E={AUTHOR_GET:"AUTHOR_GET_SUCCESS"},g={SNACKBAR_SHOW:"SNACKBAR_DISPLAY_SHOW",SNACKBAR_REMOVE:"SNACKBAR_DISPLAY_REMOVE"},b=JSON.parse(localStorage.getItem("user")),f=localStorage.getItem("token"),v=b?{user:b,token:f}:{};var O={};O.blogs=[];var k={};k.authors=[],k.categories=[{name:"Science",value:"science"},{name:"Tech",value:"tech"},{name:"Biology",value:"biology"},{name:"Cars",value:"cars"}];var y={show:!1,message:""};var S=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOGIN_SUCCESS:return{user:t.user,token:t.token};case d.USER_UPDATE:return Object(m.a)({},e,{user:t.user});case d.LOGOUT:return{};default:return e}},blogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.BLOG_GET:return{blogs:t.blogs};case p.BLOG_DELETE:var a=e.blogs,n=a.findIndex(function(e){return e._id===t.blog._id});return a.splice(n,1),{blogs:a};case p.BLOG_REMOVE:return{blogs:O};case p.ADD_BLOG:var r=e.blogs;return r.unshift(t.blog),{blogs:r};default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.AUTHOR_GET:return Object(m.a)({},e,{authors:t.author});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.SNACKBAR_SHOW:return{show:!0,message:t.msg};case g.SNACKBAR_REMOVE:return{show:!1,message:""};default:return e}}}),C=Object(u.d)(S,Object(u.a)(h.a)),j=a(25),w=a(11),_=a(12),B=a(15),L=a(13),N=a(14),x=a(309),A=a(308),P=a(138),I=a.n(P),T=a(139),G=a.n(T),U=a(16),M=a.n(U),R=a(23),D=a.n(R),W=a(140),F=a.n(W),H=a(142),K=a.n(H),V={login:function(e,t){return{type:d.LOGIN_SUCCESS,user:e,token:t}},logout:function(){return{type:d.LOGOUT}},update:function(e){return{type:d.USER_UPDATE,user:e}}};var J={addBlogs:function(e){return{type:p.BLOG_GET,blogs:e}},deleteBlog:function(e){return{type:p.BLOG_DELETE,blog:e}},deleteEveryBlog:function(){return{type:p.BLOG_REMOVE}},addOneBlog:function(e){return{type:p.ADD_BLOG,blog:e}}};var z={addAuthor:function(e){return{type:E.AUTHOR_GET,author:e}}};var Y={addSnackbar:function(e){return{type:g.SNACKBAR_SHOW,msg:e}},removeSnackbar:function(e){return{type:g.SNACKBAR_REMOVE}}};var $=a(26),q=a.n($),Q=a(24),X=a.n(Q),Z=a(5),ee=a.n(Z),te=a(72),ae=a.n(te),ne=a(71),re=a.n(ne),le=a(41),ie=a.n(le),oe=a(70),se=a.n(oe);function ce(e,t,a,n,r){var l=null;fetch("https://factly-blog.herokuapp.com/api"+e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","x-token":a},body:JSON.stringify(t)}).then(function(e){return l=e.status,e.json()}).then(function(e){200===l||201===l?n(e):r(e)}).catch(function(e){return r(e)})}function ue(e,t,a,n,r){var l=null;fetch("https://factly-blog.herokuapp.com/api"+e,{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","x-token":a},body:JSON.stringify(t)}).then(function(e){return l=e.status,e.json()}).then(function(e){200===l||201===l?n(e):r(e)}).catch(function(e){return r(e)})}function he(e,t,a){var n=null;fetch("https://factly-blog.herokuapp.com/api"+e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then(function(e){return n=e.status,e.json()}).then(function(e){200===n||201===n?t(e):a(e)}).catch(function(e){return a(e)})}function me(e){he("/user",function(t){e(z.addAuthor(t))},function(t){e(Y.addSnackbar("Something went wrong"))})}function de(e,t,a){var n="/blog?";"all"!==t&&(n+="category="+t+"&"),"all"!==a&&(n+="author="+a+"&"),he(n,function(t){e(J.addBlogs(t))},function(t){e(Y.addSnackbar("Something went wrong"))})}function pe(e){e(J.deleteEveryBlog())}var Ee=a(36),ge=a(307),be=a(127),fe=a.n(be),ve=a(49),Oe=a.n(ve),ke=a(94),ye=a.n(ke),Se=a(55),Ce=a.n(Se),je=a(33),we=a.n(je),_e=a(32),Be=a.n(_e),Le=a(35),Ne=a.n(Le),xe=a(34),Ae=a.n(xe),Pe=a(129),Ie=a.n(Pe),Te=a(90),Ge=a.n(Te),Ue=a(128),Me=a.n(Ue),Re=a(91),De=a.n(Re),We=a(131),Fe=a.n(We),He=a(93),Ke=a.n(He),Ve=a(92),Je=a.n(Ve),ze=a(69),Ye=a.n(ze),$e=a(130),qe=a.n($e);function Qe(e){var t=e.auth,a=e.comment;return r.a.createElement(Be.a,{divider:!0},r.a.createElement(Ge.a,null,r.a.createElement(Ae.a,null,a.user.name[0])),r.a.createElement(Ne.a,{primary:a.text,secondary:r.a.createElement(ge.a,{to:"/author/"+a.user._id},a.user.name)}),t.user&&t.user._id===a.user._id?r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{color:"secondary","aria-label":"Delete",onClick:function(){e.deleteComment(a._id)}},r.a.createElement(De.a,null))):null)}var Xe=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.like;return r.a.createElement(Be.a,{divider:!0},r.a.createElement(Ge.a,null,r.a.createElement(Ae.a,null,e.user.name[0])),r.a.createElement(Ne.a,{primary:e.user.name}))}}]),t}(n.Component),Ze=function(e){function t(e){var a;Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(j.a)({},e,t.target.value))}};var n=!1;return e.auth.user&&e.blog.likes.find(function(t){return t.user===e.auth.user._id})&&(n=!0),a.state={commentOpen:!1,likeOpen:!1,newComment:"",comments:[],likes:[],totalLikes:e.blog.likes.length,liked:n},a.deleteComment=a.deleteComment.bind(Object(Ee.a)(Object(Ee.a)(a))),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"postComment",value:function(){var e=function(e){this.setState({newComment:"",comments:e.comments})}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a={text:this.state.newComment};ce("/blog/"+this.props.blog._id+"/comment",a,this.props.auth.token,e,t)}},{key:"getAllComments",value:function(){var e=function(e){this.setState({commentOpen:!0,comments:e.comments})}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);he("/blog/"+this.props.blog._id+"/comment",e,t)}},{key:"getAllLikes",value:function(){var e=function(e){this.setState({likeOpen:!0,likes:e.likes})}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);he("/blog/"+this.props.blog._id+"/likes",e,t)}},{key:"likeUnlike",value:function(e){var t=function(t){var a=this.state.totalLikes;e?a++:a--,this.setState({totalLikes:a,liked:e})}.bind(this),a=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),n=e?"/like":"/unlike";ce("/blog/"+this.props.blog._id+n,{},this.props.auth.token,t,a)}},{key:"deleteBlog",value:function(){var e=function(e){var t=this.props.dispatch;t(J.deleteBlog(e)),t(Y.addSnackbar("Successfully blog deleted"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);ue("/blog/"+this.props.blog._id,{},this.props.auth.token,e,t)}},{key:"deleteComment",value:function(e){var t=function(e){this.setState({comments:e.comments}),(0,this.props.dispatch)(Y.addSnackbar("Successfully comment deleted"))}.bind(this),a=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);ue("/blog/"+this.props.blog._id+"/comment/"+e,{},this.props.auth.token,t,a)}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.comments,n=t.likes,l=this.props.filter.categories,i=this.props.auth,o=l.find(function(t){return t.value===e.props.blog.category}),s=[],c=0;c<a.length;c++)s.push(r.a.createElement(Qe,{key:this.props.blog._id+"comment"+c,comment:a[c],auth:i,deleteComment:this.deleteComment}));for(var u=[],h=0;h<n.length;h++)u.push(r.a.createElement(Xe,{key:this.props.blog._id+"likes"+h,like:n[h]}));return r.a.createElement("div",{className:"each-blog"},r.a.createElement(q.a,{className:"blog-card"},r.a.createElement(X.a,null,r.a.createElement(M.a,{variant:"overline",gutterBottom:!0},"In ",r.a.createElement(Je.a,{component:ge.a,to:"/category/"+o.value},o.name)," by ",r.a.createElement(Je.a,{component:ge.a,to:"/author/"+this.props.blog.author._id},this.props.blog.author.name),", ",fe()(this.props.blog.createdAt).fromNow()),r.a.createElement(M.a,{variant:"h5"},this.props.blog.title),r.a.createElement(M.a,{variant:"body1"},this.props.blog.desc)),r.a.createElement(Ye.a,null),r.a.createElement(Oe.a,null,r.a.createElement(qe.a,{avatar:r.a.createElement(Ae.a,null,this.state.totalLikes),label:"Likes",color:"secondary",onClick:function(){e.getAllLikes()},variant:"outlined"}),this.props.auth.user&&this.state.liked?r.a.createElement(D.a,{size:"small",color:"secondary",onClick:function(){return e.likeUnlike(!1)}},r.a.createElement(Ke.a,null),"\xa0UNLIKE"):this.props.auth.user&&!this.state.liked?r.a.createElement(D.a,{size:"small",onClick:function(){return e.likeUnlike(!0)}},r.a.createElement(Ke.a,null),"\xa0LIKE"):null,r.a.createElement(D.a,{size:"small",onClick:function(){e.getAllComments()}},r.a.createElement(Fe.a,null),"\xa0COMMENT"),this.props.auth.user&&this.props.auth.user._id===this.props.blog.author._id?r.a.createElement(D.a,{size:"small",color:"secondary",onClick:function(){return e.deleteBlog()}},r.a.createElement(De.a,null),"\xa0DELETE"):null),r.a.createElement(ye.a,{in:this.state.likeOpen,timeout:"auto"},r.a.createElement(X.a,null,r.a.createElement(M.a,null,"Likes"),r.a.createElement("div",null,r.a.createElement(we.a,null,u)))),r.a.createElement(ye.a,{in:this.state.commentOpen,timeout:"auto"},r.a.createElement(X.a,null,r.a.createElement(M.a,null,"Comments"),r.a.createElement("div",null,this.props.auth.user?r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:10},r.a.createElement(Ce.a,{fullWidth:!0,value:this.state.newComment,onChange:this.handleChange("newComment"),placeholder:"Write A Comment",inputProps:{"aria-label":"Comment"}})),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(D.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:""===this.state.newComment,onClick:function(){e.postComment()}},"POST"))):r.a.createElement(M.a,{component:"p"},"Please login to post comment")),r.a.createElement("div",null,r.a.createElement(we.a,null,0===s.length?r.a.createElement(M.a,{component:"p"},"Be the first one to comment"):s))))))}}]),t}(n.Component);var et=Object(o.b)(function(e){return{auth:e.auth,filter:e.filter}})(Ze),tt=a(132),at=a.n(tt),nt=a(135),rt=a.n(nt),lt=a(134),it=a.n(lt),ot=a(133),st=a.n(ot),ct=a(136),ut=a.n(ct);var ht=Object(o.b)(function(e){return{auth:e.auth}})(function(e){return r.a.createElement("div",null,r.a.createElement(q.a,{className:"each-blog"},r.a.createElement(X.a,{className:"text-left"},r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/",color:"secondary"},r.a.createElement(at.a,null),"\xa0Home")),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/authors",color:"secondary"},r.a.createElement(st.a,null),"\xa0Authors")),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/categories",color:"secondary"},r.a.createElement(it.a,null),"\xa0Categories")),e.auth.user?r.a.createElement("div",null,r.a.createElement(Ye.a,null),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/profile",color:"secondary"},r.a.createElement(rt.a,null),"\xa0Profile")),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/setting",color:"secondary"},r.a.createElement(ut.a,null),"\xa0Setting"))):null)))}),mt=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(j.a)({},e,t.target.value),function(){de(this.props.dispatch,this.state.category,this.state.author)})}},a.state={author:"all",category:"all"},pe(a.props.dispatch),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.filter.authors,t=this.props.dispatch;0===e.length&&me(t),de(t,this.state.category,this.state.author)}},{key:"render",value:function(){for(var e=this.props.blogs.blogs,t=this.props.filter,a=t.authors,n=t.categories,l=[],i=0;i<e.length;i++)l.push(r.a.createElement(et,{blog:e[i],key:e[i]._id}));for(var o=[],s=0;s<a.length;s++)o.push(r.a.createElement(ie.a,{key:"filter-author"+a[s]._id,value:a[s]._id},a[s].name));for(var c=[],u=0;u<n.length;u++)c.push(r.a.createElement(ie.a,{key:"filter-category"+u,value:n[u].value},n[u].name));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},0===l.length?r.a.createElement(M.a,{variant:"subtitle1"},"No posts found"):l),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement("div",{className:"filter-margin"},r.a.createElement(M.a,{component:"h4"},"Filter")),r.a.createElement("div",{className:"filter-margin"},r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(re.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(ae.a,{value:this.state.category,onChange:this.handleChange("category"),inputProps:{name:"category",id:"category-simple"}},r.a.createElement(ie.a,{value:"all"},"All"),c))),r.a.createElement("div",{className:"filter-margin"},r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(re.a,{htmlFor:"author-simple"},"Author"),r.a.createElement(ae.a,{value:this.state.author,onChange:this.handleChange("author"),inputProps:{name:"author",id:"author-simple"}},r.a.createElement(ie.a,{value:"all"},"All"),o))))))))}}]),t}(n.Component);var dt=Object(o.b)(function(e){return{auth:e.auth,blogs:e.blogs,filter:e.filter}})(mt),pt=function(e){function t(e){var a;return Object(w.a)(this,t),pe((a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.dispatch),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){de(this.props.dispatch,"all",this.props.auth.user._id)}},{key:"render",value:function(){for(var e=this.props.auth,t=this.props.blogs.blogs,a=[],n=0;n<t.length;n++)a.push(r.a.createElement(et,{blog:t[n],key:t[n]._id}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},r.a.createElement("div",{className:"each-blog"},r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ae.a,null,e.user.name[0]),r.a.createElement(Ne.a,{primary:e.user.name,secondary:e.user.bio})))))),r.a.createElement("div",null,0===a.length?r.a.createElement(M.a,{variant:"Subheading"},"No posts found"):a))))}}]),t}(n.Component);var Et=Object(o.b)(function(e){return{auth:e.auth,blogs:e.blogs}})(pt),gt=a(73),bt=a.n(gt),ft=a(74),vt=a.n(ft),Ot=a(137),kt=a.n(Ot),yt=a(27),St=a.n(yt),Ct=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(j.a)({},t,a.target.value))}},e.state={title:"",desc:"",category:"all",isFetching:!1},e}return Object(N.a)(t,e),Object(_.a)(t,[{key:"addPost",value:function(){var e=function(e){this.setState({isFetching:!1}),this.props.closeModel();var t=e;t.author=this.props.auth.user;var a=this.props.dispatch;a(J.addOneBlog(t)),a(Y.addSnackbar("New blog created"))}.bind(this),t=function(e){this.setState({isFetching:!1}),(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a=this.state,n=a.title,r=a.desc,l=a.category;n&&r&&l&&(this.setState({isFetching:!0}),ce("/blog",{title:n,desc:r,category:l},this.props.auth.token,e,t))}},{key:"render",value:function(){for(var e=this,t=this.props.filter.categories,a=[],n=0;n<t.length;n++)a.push(r.a.createElement(ie.a,{key:"filter-category"+n,value:t[n].value},t[n].name));return r.a.createElement(bt.a,{open:this.props.show,onClose:function(){e.props.closeModel()}},r.a.createElement(kt.a,null,"Post"),r.a.createElement(vt.a,null,r.a.createElement("div",{id:"post-model"},r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:8},r.a.createElement(St.a,{fullWidth:!0,id:"post-title",label:"Title",value:this.state.title,onChange:this.handleChange("title"),margin:"normal",variant:"outlined"})),r.a.createElement(ee.a,{item:!0,xs:4},r.a.createElement(St.a,{fullWidth:!0,select:!0,id:"post-title",label:"Category",value:this.state.category,onChange:this.handleChange("category"),margin:"normal",variant:"outlined"},a)),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(St.a,{id:"post-desc",label:"Desc",fullWidth:!0,multiline:!0,rows:"6",value:this.state.desc,onChange:this.handleChange("desc"),margin:"normal",variant:"outlined"})),r.a.createElement(ee.a,{item:!0,xs:9}),r.a.createElement(ee.a,{item:!0,xs:3},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.addPost()},disabled:this.state.isFetching},"POST"))))))}}]),t}(n.Component);var jt=Object(o.b)(function(e){return{auth:e.auth,filter:e.filter}})(Ct),wt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(j.a)({},t,a.target.value))}},e.state={email:"",password:"",isFetching:!1},e}return Object(N.a)(t,e),Object(_.a)(t,[{key:"handleLogin",value:function(){var e=function(e){localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("token",e.token),this.setState({email:"",password:"",isFetching:!1});var t=this.props.dispatch;t(V.login(e.user,e.token)),this.props.closeModel(),t(Y.addSnackbar("Welcome "+e.user.name))}.bind(this),t=function(e){this.setState({isFetching:!1}),(0,this.props.dispatch)(Y.addSnackbar("Auth failed"))}.bind(this),a=this.state,n=a.email,r=a.password;n&&r&&(this.setState({isFetching:!0}),ce("/login",{email:n,password:r},null,e,t))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Login")),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,id:"login-email",label:"Email",value:this.state.email,onChange:this.handleChange("email"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,id:"login-password",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange("password"),margin:"normal",variant:"outlined"})),r.a.createElement("div",{id:"login-btn"},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleLogin()},disabled:this.state.isFetching},"LOGIN")))}}]),t}(n.Component),_t=Object(o.b)()(wt),Bt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(j.a)({},t,a.target.value))}},e.state={email:"",password:"",name:"",bio:"",isFetching:!1},e}return Object(N.a)(t,e),Object(_.a)(t,[{key:"handleRegister",value:function(){var e=function(e){this.setState({email:"",name:"",bio:"",password:"",isFetching:!1}),this.props.closeModel(),(0,this.props.dispatch)(Y.addSnackbar("Success, Please Login"))}.bind(this),t=function(e){this.setState({isFetching:!1}),(0,this.props.dispatch)(Y.addSnackbar("Registration failed"))}.bind(this),a=this.state,n=a.email,r=a.name,l=a.password,i=a.bio;n&&r&&l&&i&&(this.setState({isFetching:!0}),ce("/register",{email:n,name:r,password:l,bio:i},null,e,t))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Register")),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,id:"register-email",label:"Email",value:this.state.email,onChange:this.handleChange("email"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,id:"register-name",label:"Name",value:this.state.name,onChange:this.handleChange("name"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(St.a,{id:"register-bio",label:"Bio",fullWidth:!0,multiline:!0,rows:"3",value:this.state.bio,onChange:this.handleChange("bio"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,id:"register-password",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange("password"),margin:"normal",variant:"outlined"})),r.a.createElement("div",{id:"login-btn"},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleRegister()},disabled:this.state.isFetching},"REGISTER")))}}]),t}(n.Component),Lt=Object(o.b)()(Bt),Nt=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(bt.a,{open:this.props.show,onClose:function(){e.props.closeModel()}},r.a.createElement(vt.a,null,r.a.createElement("div",{id:"login-model"},r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(Lt,{closeModel:this.props.closeModel})),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(_t,{closeModel:this.props.closeModel}))))))}}]),t}(n.Component);function xt(e){return r.a.createElement(q.a,{className:"each-blog"},r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,{button:!0,component:ge.a,to:"/category/"+e.category.value},r.a.createElement(Ae.a,null,e.category.name[0]),r.a.createElement(Ne.a,{primary:e.category.name,secondary:"BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO"})))))}var At=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){for(var e=this.props.filter.categories,t=[],a=0;a<e.length;a++)t.push(r.a.createElement(xt,{key:"categories"+a,category:e[a]}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},t)))}}]),t}(n.Component);var Pt=Object(o.b)(function(e){return{filter:e.filter}})(At),It=function(e){function t(e){var a;return Object(w.a)(this,t),pe((a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.dispatch),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){de(this.props.dispatch,this.props.match.params.name,"all")}},{key:"render",value:function(){for(var e=this.props.blogs.blogs,t=[],a=0;a<e.length;a++)t.push(r.a.createElement(et,{blog:e[a],key:e[a]._id}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},0===t.length?r.a.createElement(M.a,{variant:"Subheading"},"No posts found"):t)))}}]),t}(n.Component);var Tt=Object(o.b)(function(e){return{blogs:e.blogs}})(It),Gt=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.auth.user&&a.props.auth.user._id===a.props.match.params.id&&c.push("/profile"),pe(a.props.dispatch),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.filter.authors,t=this.props.dispatch,a=this.props.match.params.id;0===e.length&&me(t),de(t,"all",a)}},{key:"render",value:function(){for(var e=this.props.blogs.blogs,t=this.props.filter.authors,a=this.props.match.params.id,n=t.find(function(e){return e._id===a}),l=[],i=0;i<e.length;i++)l.push(r.a.createElement(et,{blog:e[i],key:e[i]._id}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},n?r.a.createElement("div",{className:"each-blog"},r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ae.a,null,n.name[0]),r.a.createElement(Ne.a,{primary:n.name,secondary:n.bio})))))):null,r.a.createElement("div",null,0===l.length?r.a.createElement(M.a,{variant:"Subheading"},"No posts found"):l))))}}]),t}(n.Component);var Ut=Object(o.b)(function(e){return{auth:e.auth,blogs:e.blogs,filter:e.filter}})(Gt);function Mt(e){return r.a.createElement(q.a,{className:"each-blog"},r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,{button:!0,component:ge.a,to:"/author/"+e.author._id},r.a.createElement(Ae.a,null,e.author.name[0]),r.a.createElement(Ne.a,{primary:e.author.name,secondary:e.author.bio})))))}var Rt=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.filter.authors,t=this.props.dispatch;0===e.length&&me(t)}},{key:"render",value:function(){for(var e=this.props.filter.authors,t=[],a=0;a<e.length;a++)t.push(r.a.createElement(Mt,{key:"authors"+a,author:e[a]}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},t)))}}]),t}(n.Component);var Dt=Object(o.b)(function(e){return{filter:e.filter}})(Rt),Wt=function(e){function t(e){var a;Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(j.a)({},e,t.target.value))}};var n=a.props.auth.user.name,r=a.props.auth.user.bio;return a.state={name:n,bio:r},a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"handleUpdate",value:function(){var e=function(e){var t=this.props,a=t.dispatch,n=t.auth,r=l;r._id=n.user._id,localStorage.setItem("user",JSON.stringify(r)),a(V.update(r)),a(Y.addSnackbar("Success, Profile updated"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a=this.state,n=a.name,r=a.bio;if(n&&r){var l={name:n,bio:r};ce("/user/update",l,this.props.auth.token,e,t)}}},{key:"render",value:function(){var e=this;return r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Edit Profile")),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,id:"update-name",label:"Name",value:this.state.name,onChange:this.handleChange("name"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,multiline:!0,rows:"3",id:"update-bio",label:"Bio",value:this.state.bio,onChange:this.handleChange("bio"),margin:"normal",variant:"outlined"}))),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:10}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleUpdate()}},"UPDATE")))))}}]),t}(n.Component);var Ft=Object(o.b)(function(e){return{auth:e.auth}})(Wt),Ht=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(j.a)({},e,t.target.value))}},a.state={oldPassword:"",newPassword:""},a.handleChangePassword=a.handleChangePassword.bind(Object(Ee.a)(Object(Ee.a)(a))),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"handleChangePassword",value:function(){var e=function(e){this.setState({oldPassword:"",newPassword:""}),(0,this.props.dispatch)(Y.addSnackbar("Success, Password Updated"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a=this.state,n=a.oldPassword,r=a.newPassword;n&&r&&ce("/user/change_password",{oldPassword:n,newPassword:r},this.props.auth.token,e,t)}},{key:"render",value:function(){var e=this;return r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Change Password")),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,type:"password",id:"update-old-password",label:"Password",value:this.state.oldPassword,onChange:this.handleChange("oldPassword"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(St.a,{fullWidth:!0,type:"password",id:"update-new-password",label:"New Password",value:this.state.newPassword,onChange:this.handleChange("newPassword"),margin:"normal",variant:"outlined"}))),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:10}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleChangePassword()}},"UPDATE")))))}}]),t}(n.Component);var Kt=Object(o.b)(function(e){return{auth:e.auth}})(Ht),Vt=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.auth.user||c.push("/"),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},this.props.auth.user?r.a.createElement("div",null,r.a.createElement("div",{className:"each-blog"},r.a.createElement(Ft,null)),r.a.createElement("div",{className:"each-blog"},r.a.createElement(Kt,null))):null)))}}]),t}(n.Component);var Jt=Object(o.b)(function(e){return{auth:e.auth}})(Vt),zt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(j.a)({},t,a.target.value))}},e.state={whichModel:""},e}return Object(N.a)(t,e),Object(_.a)(t,[{key:"handleLogout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("token");var e=this.props.dispatch;e(V.logout()),e(Y.addSnackbar("Successfully logged out")),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.snackbar,l=this.props.dispatch;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav-root"},r.a.createElement(I.a,{position:"static"},r.a.createElement(G.a,{variant:"dense"},r.a.createElement(M.a,{variant:"h6",color:"inherit",className:"nav-heading"},"Blogs"),a.user?r.a.createElement("div",null,r.a.createElement(D.a,{color:"inherit",onClick:function(){e.setState({whichModel:"post"})}},r.a.createElement(F.a,null)," POST"),r.a.createElement(D.a,{color:"inherit",onClick:function(){e.handleLogout()}},"Logout")):r.a.createElement(D.a,{color:"inherit",onClick:function(){e.setState({whichModel:"login"})}},"Login"))),r.a.createElement("div",null,r.a.createElement(jt,{show:"post"===this.state.whichModel,closeModel:function(){e.setState({whichModel:""})}})),r.a.createElement("div",null,r.a.createElement(Nt,{show:"login"===this.state.whichModel,closeModel:function(){e.setState({whichModel:""})}}))),r.a.createElement("div",{className:"container"},r.a.createElement(x.a,{history:c},r.a.createElement("div",null,r.a.createElement(A.a,{path:"/",exact:!0,component:dt}),r.a.createElement(A.a,{path:"/blogs",component:dt}),r.a.createElement(A.a,{path:"/categories",component:Pt}),r.a.createElement(A.a,{path:"/category/:name",component:Tt}),r.a.createElement(A.a,{path:"/authors",component:Dt}),r.a.createElement(A.a,{path:"/author/:id",component:Ut}),r.a.createElement(A.a,{path:"/setting",component:Jt}),a.user?r.a.createElement(A.a,{path:"/profile",component:Et}):null))),r.a.createElement("div",null,r.a.createElement(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n.show,autoHideDuration:6e3,onClose:function(){l(Y.removeSnackbar())},ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},n.message)})))}}]),t}(n.Component);var Yt=Object(o.b)(function(e){return{auth:e.auth,snackbar:e.snackbar}})(zt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,{store:C},r.a.createElement(Yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,1,2]]]);
//# sourceMappingURL=main.d0e549b4.chunk.js.map