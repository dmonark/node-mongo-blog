(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(306)},306:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),o=a.n(l),i=a(15),c=a(75),s=Object(c.a)(),u=a(40),m=a(126),h=a(68),d={LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",USER_UPDATE:"USERS_UPDTAE_SUCCESS",LOGOUT:"USERS_LOGOUT"},p={BLOG_GET:"BLOGS_GET_SUCCESS",BLOG_DELETE:"BLOG_DELETE_SUCCESS",BLOG_REMOVE:"BLOG_EVERY_REMOVE",ADD_BLOG:"BLOG_ONE_ADD"},E={AUTHOR_GET:"AUTHOR_GET_SUCCESS"},g={SNACKBAR_SHOW:"SNACKBAR_DISPLAY_SHOW",SNACKBAR_REMOVE:"SNACKBAR_DISPLAY_REMOVE"},b=JSON.parse(localStorage.getItem("user")),f=localStorage.getItem("token"),v=b?{user:b,token:f}:{};var O={};O.blogs=[];var y={};y.authors=[],y.categories=[{name:"Science",value:"science"},{name:"Tech",value:"tech"},{name:"Biology",value:"biology"},{name:"Cars",value:"cars"}];var k={show:!1,message:""};var C=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOGIN_SUCCESS:return{user:t.user,token:t.token};case d.USER_UPDATE:return Object(h.a)({},e,{user:t.user});case d.LOGOUT:return{};default:return e}},blogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.BLOG_GET:return{blogs:t.blogs};case p.BLOG_DELETE:var a=e.blogs,n=a.findIndex(function(e){return e._id===t.blog._id});return a.splice(n,1),{blogs:a};case p.BLOG_REMOVE:return{blogs:O};case p.ADD_BLOG:var r=e.blogs;return r.unshift(t.blog),{blogs:r};default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.AUTHOR_GET:return Object(h.a)({},e,{authors:t.author});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.SNACKBAR_SHOW:return{show:!0,message:t.msg};case g.SNACKBAR_REMOVE:return{show:!1,message:""};default:return e}}}),j=Object(u.d)(C,Object(u.a)(m.a)),S=a(25),w=a(10),_=a(11),B=a(14),L=a(12),x=a(13),N=a(309),A=a(308),P=a(138),I=a.n(P),T=a(139),G=a.n(T),U=a(23),M=a.n(U),R=a(22),D=a.n(R),W=a(140),H=a.n(W),K=a(142),V=a.n(K),J={login:function(e,t){return{type:d.LOGIN_SUCCESS,user:e,token:t}},logout:function(){return{type:d.LOGOUT}},update:function(e){return{type:d.USER_UPDATE,user:e}}};var z={addBlogs:function(e){return{type:p.BLOG_GET,blogs:e}},deleteBlog:function(e){return{type:p.BLOG_DELETE,blog:e}},deleteEveryBlog:function(){return{type:p.BLOG_REMOVE}},addOneBlog:function(e){return{type:p.ADD_BLOG,blog:e}}};var F={addAuthor:function(e){return{type:E.AUTHOR_GET,author:e}}};var Y={addSnackbar:function(e){return{type:g.SNACKBAR_SHOW,msg:e}},removeSnackbar:function(e){return{type:g.SNACKBAR_REMOVE}}};var $=a(26),q=a.n($),Q=a(24),X=a.n(Q),Z=a(5),ee=a.n(Z),te=a(72),ae=a.n(te),ne=a(71),re=a.n(ne),le=a(41),oe=a.n(le),ie=a(70),ce=a.n(ie);function se(e,t,a,n,r){var l=null;fetch("http://localhost:8000/api"+e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","x-token":a},body:JSON.stringify(t)}).then(function(e){return l=e.status,e.json()}).then(function(e){200===l||201===l?n(e):r(e)}).catch(function(e){return r(e)})}function ue(e,t,a,n,r){var l=null;fetch("http://localhost:8000/api"+e,{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","x-token":a},body:JSON.stringify(t)}).then(function(e){return l=e.status,e.json()}).then(function(e){200===l||201===l?n(e):r(e)}).catch(function(e){return r(e)})}function me(e,t,a){var n=null;fetch("http://localhost:8000/api"+e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then(function(e){return n=e.status,e.json()}).then(function(e){200===n||201===n?t(e):a(e)}).catch(function(e){return a(e)})}function he(e){me("/user",function(t){e(F.addAuthor(t))},function(t){e(Y.addSnackbar("Something went wrong"))})}function de(e,t,a){var n="/blog?";"all"!==t&&(n+="category="+t+"&"),"all"!==a&&(n+="author="+a+"&"),me(n,function(t){e(z.addBlogs(t))},function(t){e(Y.addSnackbar("Something went wrong"))})}function pe(e){e(z.deleteEveryBlog())}var Ee=a(36),ge=a(307),be=a(127),fe=a.n(be),ve=a(49),Oe=a.n(ve),ye=a(94),ke=a.n(ye),Ce=a(55),je=a.n(Ce),Se=a(33),we=a.n(Se),_e=a(32),Be=a.n(_e),Le=a(35),xe=a.n(Le),Ne=a(34),Ae=a.n(Ne),Pe=a(129),Ie=a.n(Pe),Te=a(90),Ge=a.n(Te),Ue=a(128),Me=a.n(Ue),Re=a(91),De=a.n(Re),We=a(131),He=a.n(We),Ke=a(93),Ve=a.n(Ke),Je=a(92),ze=a.n(Je),Fe=a(69),Ye=a.n(Fe),$e=a(130),qe=a.n($e),Qe=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.comment;return r.a.createElement(Be.a,{divider:!0},r.a.createElement(Ge.a,null,r.a.createElement(Ae.a,null,n.user.name[0])),r.a.createElement(xe.a,{primary:n.text,secondary:r.a.createElement(ge.a,{to:"/author/"+n.user._id},n.user.name)}),a.user&&a.user._id===n.user._id?r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{color:"secondary","aria-label":"Delete",onClick:function(){e.props.deleteComment(n._id)}},r.a.createElement(De.a,null))):null)}}]),t}(n.Component),Xe=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.like;return r.a.createElement(Be.a,{divider:!0},r.a.createElement(Ge.a,null,r.a.createElement(Ae.a,null,e.user.name[0])),r.a.createElement(xe.a,{primary:e.user.name}))}}]),t}(n.Component),Ze=function(e){function t(e){var a;Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}};var n=!1;return e.auth.user&&e.blog.likes.find(function(t){return t.user===e.auth.user._id})&&(n=!0),a.state={commentOpen:!1,likeOpen:!1,newComment:"",comments:[],likes:[],totalLikes:e.blog.likes.length,liked:n},a.deleteComment=a.deleteComment.bind(Object(Ee.a)(Object(Ee.a)(a))),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"postComment",value:function(){var e=function(e){this.setState({newComment:"",comments:e.comments})}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a={text:this.state.newComment};se("/blog/"+this.props.blog._id+"/comment",a,this.props.auth.token,e,t)}},{key:"getAllComments",value:function(){var e=function(e){this.setState({commentOpen:!0,comments:e.comments})}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);me("/blog/"+this.props.blog._id+"/comment",e,t)}},{key:"getAllLikes",value:function(){var e=function(e){this.setState({likeOpen:!0,likes:e.likes})}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);me("/blog/"+this.props.blog._id+"/likes",e,t)}},{key:"likeUnlike",value:function(e){var t=function(t){var a=this.state.totalLikes;e?a++:a--,this.setState({totalLikes:a,liked:e})}.bind(this),a=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),n=e?"/like":"/unlike";se("/blog/"+this.props.blog._id+n,{},this.props.auth.token,t,a)}},{key:"deleteBlog",value:function(){var e=function(e){var t=this.props.dispatch;t(z.deleteBlog(e)),t(Y.addSnackbar("Successfully blog deleted"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);ue("/blog/"+this.props.blog._id,{},this.props.auth.token,e,t)}},{key:"deleteComment",value:function(e){var t=function(e){this.setState({comments:e.comments}),(0,this.props.dispatch)(Y.addSnackbar("Successfully comment deleted"))}.bind(this),a=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this);ue("/blog/"+this.props.blog._id+"/comment/"+e,{},this.props.auth.token,t,a)}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.comments,n=t.likes,l=this.props.filter.categories,o=this.props.auth,i=l.find(function(t){return t.value===e.props.blog.category}),c=[],s=0;s<a.length;s++)c.push(r.a.createElement(Qe,{key:this.props.blog._id+"comment"+s,comment:a[s],auth:o,deleteComment:this.deleteComment}));for(var u=[],m=0;m<n.length;m++)u.push(r.a.createElement(Xe,{key:this.props.blog._id+"likes"+m,like:n[m]}));return r.a.createElement("div",{className:"each-blog"},r.a.createElement(q.a,{className:"blog-card"},r.a.createElement(X.a,null,r.a.createElement(M.a,{variant:"overline",gutterBottom:!0},"In ",r.a.createElement(ze.a,{component:ge.a,to:"/category/"+i.value},i.name)," by ",r.a.createElement(ze.a,{component:ge.a,to:"/author/"+this.props.blog.author._id},this.props.blog.author.name),", ",fe()(this.props.blog.createdAt).fromNow()),r.a.createElement(M.a,{variant:"h5"},this.props.blog.title),r.a.createElement(M.a,{variant:"body1"},this.props.blog.desc)),r.a.createElement(Ye.a,null),r.a.createElement(Oe.a,null,r.a.createElement(qe.a,{avatar:r.a.createElement(Ae.a,null,this.state.totalLikes),label:"Likes",color:"secondary",onClick:function(){e.getAllLikes()},variant:"outlined"}),this.props.auth.user&&this.state.liked?r.a.createElement(D.a,{size:"small",color:"secondary",onClick:function(){return e.likeUnlike(!1)}},r.a.createElement(Ve.a,null),"\xa0UNLIKE"):this.props.auth.user&&!this.state.liked?r.a.createElement(D.a,{size:"small",onClick:function(){return e.likeUnlike(!0)}},r.a.createElement(Ve.a,null),"\xa0LIKE"):null,r.a.createElement(D.a,{size:"small",onClick:function(){e.getAllComments()}},r.a.createElement(He.a,null),"\xa0COMMENT"),this.props.auth.user&&this.props.auth.user._id===this.props.blog.author._id?r.a.createElement(D.a,{size:"small",color:"secondary",onClick:function(){return e.deleteBlog()}},r.a.createElement(De.a,null),"\xa0DELETE"):null),r.a.createElement(ke.a,{in:this.state.likeOpen,timeout:"auto"},r.a.createElement(X.a,null,r.a.createElement(M.a,null,"Likes"),r.a.createElement("div",null,r.a.createElement(we.a,null,u)))),r.a.createElement(ke.a,{in:this.state.commentOpen,timeout:"auto"},r.a.createElement(X.a,null,r.a.createElement(M.a,null,"Comments"),r.a.createElement("div",null,this.props.auth.user?r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:10},r.a.createElement(je.a,{fullWidth:!0,value:this.state.newComment,onChange:this.handleChange("newComment"),placeholder:"Write A Comment",inputProps:{"aria-label":"Comment"}})),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(D.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:""===this.state.newComment,onClick:function(){e.postComment()}},"POST"))):r.a.createElement(M.a,{component:"p"},"Please login to post comment")),r.a.createElement("div",null,r.a.createElement(we.a,null,0===c.length?r.a.createElement(M.a,{component:"p"},"Be the first one to comment"):c))))))}}]),t}(n.Component);var et=Object(i.b)(function(e){return{auth:e.auth,filter:e.filter}})(Ze),tt=a(132),at=a.n(tt),nt=a(135),rt=a.n(nt),lt=a(134),ot=a.n(lt),it=a(133),ct=a.n(it),st=a(136),ut=a.n(st),mt=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q.a,{className:"each-blog"},r.a.createElement(X.a,{className:"text-left"},r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/",color:"secondary"},r.a.createElement(at.a,null),"\xa0Home")),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/authors",color:"secondary"},r.a.createElement(ct.a,null),"\xa0Authors")),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/categories",color:"secondary"},r.a.createElement(ot.a,null),"\xa0Categories")),this.props.auth.user?r.a.createElement("div",null,r.a.createElement(Ye.a,null),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/profile",color:"secondary"},r.a.createElement(rt.a,null),"\xa0Profile")),r.a.createElement("div",null,r.a.createElement(D.a,{component:ge.a,to:"/setting",color:"secondary"},r.a.createElement(ut.a,null),"\xa0Setting"))):null)))}}]),t}(n.Component);var ht=Object(i.b)(function(e){return{auth:e.auth}})(mt),dt=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value),function(){de(this.props.dispatch,this.state.category,this.state.author)})}},a.state={author:"all",category:"all"},pe(a.props.dispatch),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.filter.authors,t=this.props.dispatch;0===e.length&&he(t),de(t,this.state.category,this.state.author)}},{key:"render",value:function(){for(var e=this.props.blogs.blogs,t=this.props.filter,a=t.authors,n=t.categories,l=[],o=0;o<e.length;o++)l.push(r.a.createElement(et,{blog:e[o],key:e[o]._id}));for(var i=[],c=0;c<a.length;c++)i.push(r.a.createElement(oe.a,{key:"filter-author"+a[c]._id,value:a[c]._id},a[c].name));for(var s=[],u=0;u<n.length;u++)s.push(r.a.createElement(oe.a,{key:"filter-category"+u,value:n[u].value},n[u].name));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},l),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement("div",{className:"filter-margin"},r.a.createElement(M.a,{component:"h4"},"Filter")),r.a.createElement("div",{className:"filter-margin"},r.a.createElement(ce.a,{fullWidth:!0},r.a.createElement(re.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(ae.a,{value:this.state.category,onChange:this.handleChange("category"),inputProps:{name:"category",id:"category-simple"}},r.a.createElement(oe.a,{value:"all"},"All"),s))),r.a.createElement("div",{className:"filter-margin"},r.a.createElement(ce.a,{fullWidth:!0},r.a.createElement(re.a,{htmlFor:"author-simple"},"Author"),r.a.createElement(ae.a,{value:this.state.author,onChange:this.handleChange("author"),inputProps:{name:"author",id:"author-simple"}},r.a.createElement(oe.a,{value:"all"},"All"),i))))))))}}]),t}(n.Component);var pt=Object(i.b)(function(e){return{auth:e.auth,blogs:e.blogs,filter:e.filter}})(dt),Et=function(e){function t(e){var a;return Object(w.a)(this,t),pe((a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.dispatch),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){de(this.props.dispatch,"all",this.props.auth.user._id)}},{key:"render",value:function(){for(var e=this.props.auth,t=this.props.blogs.blogs,a=[],n=0;n<t.length;n++)a.push(r.a.createElement(et,{blog:t[n],key:t[n]._id}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},r.a.createElement("div",{className:"each-blog"},r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ae.a,null,e.user.name[0]),r.a.createElement(xe.a,{primary:e.user.name,secondary:e.user.bio})))))),r.a.createElement("div",null,a))))}}]),t}(n.Component);var gt=Object(i.b)(function(e){return{auth:e.auth,blogs:e.blogs}})(Et),bt=a(73),ft=a.n(bt),vt=a(74),Ot=a.n(vt),yt=a(137),kt=a.n(yt),Ct=a(27),jt=a.n(Ct),St=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(S.a)({},t,a.target.value))}},e.state={title:"",desc:"",category:"all"},e}return Object(x.a)(t,e),Object(_.a)(t,[{key:"addPost",value:function(){var e=function(e){this.props.closeModel();var t=e;t.author=this.props.auth.user;var a=this.props.dispatch;a(z.addOneBlog(t)),a(Y.addSnackbar("New blog created"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a=this.state,n=a.title,r=a.desc,l=a.category;n&&r&&l&&se("/blog",{title:n,desc:r,category:l},this.props.auth.token,e,t)}},{key:"render",value:function(){for(var e=this,t=this.props.filter.categories,a=[],n=0;n<t.length;n++)a.push(r.a.createElement(oe.a,{key:"filter-category"+n,value:t[n].value},t[n].name));return r.a.createElement(ft.a,{open:this.props.show,onClose:function(){e.props.closeModel()}},r.a.createElement(kt.a,null,"Post"),r.a.createElement(Ot.a,null,r.a.createElement("div",{id:"post-model"},r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:8},r.a.createElement(jt.a,{fullWidth:!0,id:"post-title",label:"Title",value:this.state.title,onChange:this.handleChange("title"),margin:"normal",variant:"outlined"})),r.a.createElement(ee.a,{item:!0,xs:4},r.a.createElement(jt.a,{fullWidth:!0,select:!0,id:"post-title",label:"Category",value:this.state.category,onChange:this.handleChange("category"),margin:"normal",variant:"outlined"},a)),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(jt.a,{id:"post-desc",label:"Desc",fullWidth:!0,multiline:!0,rows:"6",value:this.state.desc,onChange:this.handleChange("desc"),margin:"normal",variant:"outlined"})),r.a.createElement(ee.a,{item:!0,xs:9}),r.a.createElement(ee.a,{item:!0,xs:3},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.addPost()}},"POST"))))))}}]),t}(n.Component);var wt=Object(i.b)(function(e){return{auth:e.auth,filter:e.filter}})(St),_t=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(S.a)({},t,a.target.value))}},e.state={email:"",password:""},e}return Object(x.a)(t,e),Object(_.a)(t,[{key:"resetEverything",value:function(){this.setState({email:"",password:""})}},{key:"handleLogin",value:function(){var e=function(e){localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("token",e.token),this.resetEverything();var t=this.props.dispatch;t(J.login(e.user,e.token)),this.props.closeModel(),t(Y.addSnackbar("Welcome "+e.user.name))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Auth failed"))}.bind(this),a=this.state,n=a.email,r=a.password;n&&r&&se("/login",{email:n,password:r},null,e,t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Login")),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,id:"login-email",label:"Email",value:this.state.email,onChange:this.handleChange("email"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,id:"login-password",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange("password"),margin:"normal",variant:"outlined"})),r.a.createElement("div",{id:"login-btn"},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleLogin()}},"LOGIN")))}}]),t}(n.Component),Bt=Object(i.b)()(_t),Lt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(S.a)({},t,a.target.value))}},e.state={email:"",password:"",name:"",bio:""},e}return Object(x.a)(t,e),Object(_.a)(t,[{key:"resetEverything",value:function(){this.setState({email:"",name:"",bio:"",password:""})}},{key:"handleRegister",value:function(){var e=function(e){this.props.closeModel(),this.resetEverything(),(0,this.props.dispatch)(Y.addSnackbar("Success, Please Login"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Registration failed"))}.bind(this),a=this.state,n=a.email,r=a.name,l=a.password,o=a.bio;n&&r&&l&&o&&se("/register",{email:n,name:r,password:l,bio:o},null,e,t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Register")),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,id:"register-email",label:"Email",value:this.state.email,onChange:this.handleChange("email"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,id:"register-name",label:"Name",value:this.state.name,onChange:this.handleChange("name"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(jt.a,{id:"register-bio",label:"Bio",fullWidth:!0,multiline:!0,rows:"3",value:this.state.bio,onChange:this.handleChange("bio"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,id:"register-password",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange("password"),margin:"normal",variant:"outlined"})),r.a.createElement("div",{id:"login-btn"},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleRegister()}},"REGISTER")))}}]),t}(n.Component),xt=Object(i.b)()(Lt),Nt=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ft.a,{open:this.props.show,onClose:function(){e.props.closeModel()}},r.a.createElement(Ot.a,null,r.a.createElement("div",{id:"login-model"},r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(xt,{closeModel:this.props.closeModel})),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(Bt,{closeModel:this.props.closeModel}))))))}}]),t}(n.Component);function At(e){return r.a.createElement(q.a,{className:"each-blog"},r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,{button:!0,component:ge.a,to:"/category/"+e.category.value},r.a.createElement(Ae.a,null,e.category.name[0]),r.a.createElement(xe.a,{primary:e.category.name,secondary:"BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO BIO"})))))}var Pt=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){for(var e=this.props.filter.categories,t=[],a=0;a<e.length;a++)t.push(r.a.createElement(At,{key:"categories"+a,category:e[a]}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},t)))}}]),t}(n.Component);var It=Object(i.b)(function(e){return{filter:e.filter}})(Pt),Tt=function(e){function t(e){var a;return Object(w.a)(this,t),pe((a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.dispatch),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){de(this.props.dispatch,this.props.match.params.name,"all")}},{key:"render",value:function(){for(var e=this.props.blogs.blogs,t=[],a=0;a<e.length;a++)t.push(r.a.createElement(et,{blog:e[a],key:e[a]._id}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},t)))}}]),t}(n.Component);var Gt=Object(i.b)(function(e){return{blogs:e.blogs}})(Tt),Ut=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.auth.user&&a.props.auth.user._id===a.props.match.params.id&&s.push("/profile"),pe(a.props.dispatch),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.filter.authors,t=this.props.dispatch,a=this.props.match.params.id;0===e.length&&he(t),de(t,"all",a)}},{key:"render",value:function(){for(var e=this.props.blogs.blogs,t=this.props.filter.authors,a=this.props.match.params.id,n=t.find(function(e){return e._id===a}),l=[],o=0;o<e.length;o++)l.push(r.a.createElement(et,{blog:e[o],key:e[o]._id}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},n?r.a.createElement("div",{className:"each-blog"},r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ae.a,null,n.name[0]),r.a.createElement(xe.a,{primary:n.name,secondary:n.bio})))))):null,r.a.createElement("div",null,l))))}}]),t}(n.Component);var Mt=Object(i.b)(function(e){return{auth:e.auth,blogs:e.blogs,filter:e.filter}})(Ut);function Rt(e){return r.a.createElement(q.a,{className:"each-blog"},r.a.createElement(X.a,null,r.a.createElement(we.a,null,r.a.createElement(Be.a,{button:!0,component:ge.a,to:"/author/"+e.author._id},r.a.createElement(Ae.a,null,e.author.name[0]),r.a.createElement(xe.a,{primary:e.author.name,secondary:e.author.bio})))))}var Dt=function(e){function t(){return Object(w.a)(this,t),Object(B.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.filter.authors,t=this.props.dispatch;0===e.length&&he(t)}},{key:"render",value:function(){for(var e=this.props.filter.authors,t=[],a=0;a<e.length;a++)t.push(r.a.createElement(Rt,{key:"authors"+a,author:e[a]}));return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},t)))}}]),t}(n.Component);var Wt=Object(i.b)(function(e){return{filter:e.filter}})(Dt),Ht=function(e){function t(e){var a;Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}};var n=a.props.auth.user.name,r=a.props.auth.user.bio;return a.state={name:n,bio:r},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"handleUpdate",value:function(){var e=function(e){var t=this.props,a=t.dispatch,n=t.auth,r=l;r._id=n.user._id,localStorage.setItem("user",JSON.stringify(r)),a(J.update(r)),a(Y.addSnackbar("Success, Profile updated"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a=this.state,n=a.name,r=a.bio;if(n&&r){var l={name:n,bio:r};se("/user/update",l,this.props.auth.token,e,t)}}},{key:"render",value:function(){var e=this;return r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Edit Profile")),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,id:"update-name",label:"Name",value:this.state.name,onChange:this.handleChange("name"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,multiline:!0,rows:"3",id:"update-bio",label:"Bio",value:this.state.bio,onChange:this.handleChange("bio"),margin:"normal",variant:"outlined"}))),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:10}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleUpdate()}},"UPDATE")))))}}]),t}(n.Component);var Kt=Object(i.b)(function(e){return{auth:e.auth}})(Ht),Vt=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}},a.state={oldPassword:"",newPassword:""},a.handleChangePassword=a.handleChangePassword.bind(Object(Ee.a)(Object(Ee.a)(a))),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"handleChangePassword",value:function(){var e=function(e){this.setState({oldPassword:"",newPassword:""}),(0,this.props.dispatch)(Y.addSnackbar("Success, Password Updated"))}.bind(this),t=function(e){(0,this.props.dispatch)(Y.addSnackbar("Something went wrong"))}.bind(this),a=this.state,n=a.oldPassword,r=a.newPassword;n&&r&&se("/user/change_password",{oldPassword:n,newPassword:r},this.props.auth.token,e,t)}},{key:"render",value:function(){var e=this;return r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h5",className:"text-left"},"Change Password")),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,type:"password",id:"update-old-password",label:"Password",value:this.state.oldPassword,onChange:this.handleChange("oldPassword"),margin:"normal",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(jt.a,{fullWidth:!0,type:"password",id:"update-new-password",label:"New Password",value:this.state.newPassword,onChange:this.handleChange("newPassword"),margin:"normal",variant:"outlined"}))),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:10}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){e.handleChangePassword()}},"UPDATE")))))}}]),t}(n.Component);var Jt=Object(i.b)(function(e){return{auth:e.auth}})(Vt),zt=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(B.a)(this,Object(L.a)(t).call(this,e))).props.auth.user||s.push("/"),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:8},r.a.createElement(ee.a,{item:!0,xs:1}),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(ht,null)),r.a.createElement(ee.a,{item:!0,xs:4},this.props.auth.user?r.a.createElement("div",null,r.a.createElement("div",{className:"each-blog"},r.a.createElement(Kt,null)),r.a.createElement("div",{className:"each-blog"},r.a.createElement(Jt,null))):null)))}}]),t}(n.Component);var Ft=Object(i.b)(function(e){return{auth:e.auth}})(zt),Yt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(B.a)(this,Object(L.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(S.a)({},t,a.target.value))}},e.state={whichModel:""},e}return Object(x.a)(t,e),Object(_.a)(t,[{key:"handleLogout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("token");var e=this.props.dispatch;e(J.logout()),e(Y.addSnackbar("Successfully logged out"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.snackbar,l=this.props.dispatch;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav-root"},r.a.createElement(I.a,{position:"static"},r.a.createElement(G.a,{variant:"dense"},r.a.createElement(M.a,{variant:"h6",color:"inherit",className:"nav-heading"},"Blogs"),a.user?r.a.createElement("div",null,r.a.createElement(D.a,{color:"inherit",onClick:function(){e.setState({whichModel:"post"})}},r.a.createElement(H.a,null)," POST"),r.a.createElement(D.a,{color:"inherit",onClick:function(){e.handleLogout()}},"Logout")):r.a.createElement(D.a,{color:"inherit",onClick:function(){e.setState({whichModel:"login"})}},"Login"))),r.a.createElement("div",null,r.a.createElement(wt,{show:"post"===this.state.whichModel,closeModel:function(){e.setState({whichModel:""})}})),r.a.createElement("div",null,r.a.createElement(Nt,{show:"login"===this.state.whichModel,closeModel:function(){e.setState({whichModel:""})}}))),r.a.createElement("div",{className:"container"},r.a.createElement(N.a,{history:s},r.a.createElement("div",null,r.a.createElement(A.a,{path:"/",exact:!0,component:pt}),r.a.createElement(A.a,{path:"/blogs",component:pt}),r.a.createElement(A.a,{path:"/categories",component:It}),r.a.createElement(A.a,{path:"/category/:name",component:Gt}),r.a.createElement(A.a,{path:"/authors",component:Wt}),r.a.createElement(A.a,{path:"/author/:id",component:Mt}),r.a.createElement(A.a,{path:"/setting",component:Ft}),a.user?r.a.createElement(A.a,{path:"/profile",component:gt}):null))),r.a.createElement("div",null,r.a.createElement(V.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n.show,autoHideDuration:6e3,onClose:function(){l(Y.removeSnackbar())},ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},n.message)})))}}]),t}(n.Component);var $t=Object(i.b)(function(e){return{auth:e.auth,snackbar:e.snackbar}})(Yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:j},r.a.createElement($t,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,1,2]]]);
//# sourceMappingURL=main.01798d14.chunk.js.map